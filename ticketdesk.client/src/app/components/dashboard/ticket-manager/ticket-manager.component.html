<div class="container mt-4">
  <h2>Ticket Manager</h2>

  <!-- Form for creating and updating tickets -->
  <div class="card mb-4">
    <div class="card-header">
      <h3>{{ isEditMode ? 'Update Ticket' : 'Create Ticket' }}</h3>
    </div>
    <div class="card-body">
      <form (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="ticketTittle">Title</label>
          <input type="text" class="form-control" id="ticketTittle" [(ngModel)]="ticket.ticketTittle" name="ticketTittle" required>
        </div>
        <div class="form-group">
          <label for="ticketDescription">Description</label>
          <textarea class="form-control" id="ticketDescription" [(ngModel)]="ticket.ticketDescription" name="ticketDescription" required></textarea>
        </div>
        <div class="form-group">
          <label for="statusId">Status</label>
          <select class="form-control" id="statusId" [(ngModel)]="ticket.statusId" name="statusId" required>
            <option *ngFor="let status of statuses" [value]="status.id">{{ status.name }}</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary">{{ isEditMode ? 'Update' : 'Create' }}</button>
      </form>
    </div>
  </div>

  <!-- Ticket list -->
  <div class="card">
    <div class="card-header">
      <h3>Ticket List</h3>
    </div>
    <div class="card-body">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Title</th>
            <th>Description</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ticket of tickets">
            <td>{{ ticket.ticketTittle }}</td>
            <td>{{ ticket.ticketDescription }}</td>
            <td>{{ getStatusName(ticket.statusId) }}</td>
            <td>
              <button class="btn btn-sm btn-warning" (click)="editTicket(ticket)">Edit</button>
              <button class="btn btn-sm btn-danger" (click)="deleteTicket(ticket.ticketId)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
